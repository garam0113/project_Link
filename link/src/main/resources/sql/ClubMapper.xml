<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  						
<mapper namespace="ClubMapper">



	<resultMap	id="clubSelectMap"	type="club">
		<result property="clubNo"			column="club_no"				jdbcType="NUMERIC" />
		<result property="userId"			column="user_id"				jdbcType="VARCHAR" />
		<result property="clubTitle"		column="club_title"				jdbcType="VARCHAR" />
		<result property="clubDetail"		column="club_detail"			jdbcType="VARCHAR" />
		<result property="clubRegDate"		column="club_reg_date"			jdbcType="VARCHAR" />
		<result property="currentMember"	column="current_member"			jdbcType="NUMERIC" />
		<result property="clubMaxMember"	column="club_max_member"		jdbcType="NUMERIC" />
		<result property="clubCategory"		column="club_category"			jdbcType="VARCHAR" />
		<result property="clubArea"			column="club_area"				jdbcType="VARCHAR" />
		<result property="clubImage"		column="club_image"				jdbcType="VARCHAR" />		
	</resultMap>
	
	<insert id="addClub" parameterType="club">
		INSERT
		INTO club( 
					club_no ,
					user_id ,
		  			club_title , 
		  			club_detail ,
		   			club_image , 
		   			current_member , 
		   			club_max_member , 
		   			club_category , 
		   			club_area)
		VALUES ( 
					seq_club_no.NEXTVAL , 
					#{userId} , 
					#{clubTitle} , 
					#{clubDetail} , 
					#{clubImage} , 
					#{currentMember:NUMERIC} , 
					#{clubMaxMember:NUMERIC} , 
					#{clubCategory} , 
					#{clubArea})
	
	</insert>


	<select id="getClub" parameterType="int" resultMap="clubSelectMap">
		SELECT
			club_no ,
			user_id ,
			club_title ,
			club_detail ,
			club_image ,
			current_member ,
			club_max_member ,
			club_category ,
			club_area
		FROM club
		WHERE club_no = #{clubNo}	
	
	</select>
	
	<update id="updateClub" parameterType="club">
		UPDATE club
		<set>
			club_title = #{clubTitle} ,
			club_detail = #{clubDetail} ,
			club_category = #{clubCategory} ,
			club_area = #{clubArea}
			club_image = #{clubImage}
		</set>
		WHERE club_no = #{clubNo}
	</update>
	
	<delete id="deleteClub">
		DELETE FROM club WHERE club_no = #{clubNo}
	</delete>
	
	
	
	
	<resultMap	id="clubUserSelectMap"		type="clubUser">
		<result property="clubNo"					column="club_no"							jdbcType="NUMERIC" />
		<result property="userId"					column="user_id"							jdbcType="VARCHAR" />
		<result property="applicationRegDate"		column="application_reg_date"				jdbcType="DATE" />
		<result property="joinRegDate"				column="join_reg_date"						jdbcType="DATE" />
		<result property="logoutDate"				column="logout_date"						jdbcType="DATE" />
		<result property="memberRole"				column="member_role"						jdbcType="CHAR" />
		<result property="approvalCondition"		column="approval_condition"					jdbcType="CHAR" />
		<result property="joinGreeting"				column="join_greeting"						jdbcType="VARCHAR" />
				
	</resultMap>
	
	
	
	
	
	
</mapper>