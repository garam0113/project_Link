<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  						
<mapper namespace="ClubPostCommentMapper">



	<resultMap id="clubPostCommentSelectMap" type="com.link.service.domain.Comment">
		<result property="clubPostCommentNo"		column="club_post_comment_no" 		jdbcType="NUMERIC"/>
		<result property="clubPostNo"				column="club_post_no" 				jdbcType="NUMERIC"/>
		<result property="user.userId" 				column="user_id" 					jdbcType="VARCHAR"/>
		<result property="commentContent" 			column="comment_content" 			jdbcType="VARCHAR"/>
		<result property="commentRegDate" 			column="comment_reg_date" 			jdbcType="DATE"/>
		<result property="commentUpdateDate" 		column="comment_update_date" 		jdbcType="DATE"/>
		<result property="commentLikeCount" 		column="comment_like_count" 		jdbcType="NUMERIC"/>
		<result property="commentCount" 			column="comment_count" 				jdbcType="NUMERIC"/>
		<result property="reportCondition" 			column="report_condition" 			jdbcType="VARCHAR"/>
		<result property="deleteCondition" 			column="delete_condition" 			jdbcType="VARCHAR"/>
		<result property="parent" 					column="parent" 					jdbcType="NUMERIC"/>
		<result property="depth" 					column="depth" 						jdbcType="NUMERIC"/>
		<result property="sequence" 				column="sequence" 					jdbcType="NUMERIC"/>
	</resultMap>


	
	<!-- 모임게시물 댓글 리스트 -->
	<select id="getClubPostCommentList" parameterType="comment" resultMap="clubPostCommentSelectMap">
		SELECT CLUB_POST_COMMENT_NO, CLUB_POST_NO, USER_ID, COMMENT_CONTENT, COMMENT_REG_DATE, COMMENT_UPDATE_DATE, COMMENT_LIKE_COUNT,
		COMMENT_COUNT, REPORT_CONDITION, DELETE_CONDITION, PARENT, DEPTH, SEQUENCE
		FROM CLUB_POST_COMMENT
		<if test="clubPostNo != null and clubPostNo != '' and clubPostNo != 0">
		WHERE CLUB_POST_NO = #{ clubPostNo }
		</if>
		<if test="clubPostCommentNo != null and clubPostCommentNo != '' and clubPostCommentNo != 0">
		WHERE PARENT = #{ clubPostCommentNo }
		</if>
		ORDER BY COMMENT_REG_DATE ASC
	</select>
	
	
	
	<!-- 모임게시물 대댓글 리스트 -->
	<select id="getClubPostRecommentList" parameterType="comment" resultMap="clubPostCommentSelectMap">
		SELECT CLUB_POST_COMMENT_NO, CLUB_POST_NO, USER_ID, COMMENT_CONTENT, COMMENT_REG_DATE, COMMENT_UPDATE_DATE, COMMENT_LIKE_COUNT,
		COMMENT_COUNT, REPORT_CONDITION, DELETE_CONDITION, PARENT, DEPTH, SEQUENCE
		FROM CLUB_POST_COMMENT
		WHERE PARENT = 4
		ORDER BY COMMENT_REG_DATE ASC
	</select>
	
	
	
	<!-- <insert id="">
	
	</insert> -->
	
	
	 
</mapper>